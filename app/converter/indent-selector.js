"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_menu=require("polythene/menu/menu"),_menu2=_interopRequireDefault(_menu),_button=require("polythene/button/button"),_button2=_interopRequireDefault(_button),_list=require("polythene/list/list"),_list2=_interopRequireDefault(_list),_listTile=require("polythene/list-tile/list-tile"),_listTile2=_interopRequireDefault(_listTile),STORAGE_KEY="mithril-template-converter__indent-index",storageAvailable=function(i){try{var t=window[i],e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}},settings={};settings.controller=function(l){var e=storageAvailable("localStorage")?localStorage.getItem(STORAGE_KEY):2;e=null===e?2:Math.max(0,Math.min(2,e));var i=[{title:"2 Spaces",id:"2"},{title:"4 Spaces",id:"4"},{title:"Tab",id:"tab"}],t=function(e){n.selectedIndex=e,localStorage.setItem(STORAGE_KEY,e),l.indentId(i[e].id)},n={show:!1,selectedIndex:e,options:i,setSelectedIndex:t};return t(e),{menu:n,setSelectedIndex:t}},settings.view=function(e){return(0,_mithril2.default)(".indent-selector",[_mithril2.default.component(_menu2.default,{target:"indent-selections",show:e.menu.show,hideDelay:.24,didHide:function(){e.menu.show=!1},size:5,offset:0,content:_mithril2.default.component(_list2.default,{hoverable:!0,tiles:e.menu.options.map(function(i,t){return _mithril2.default.component(_listTile2.default,{title:i.title,selected:t===e.menu.selectedIndex,ink:!0,events:{onclick:function(){return e.setSelectedIndex(t)}}})})})}),_mithril2.default.component(_button2.default,{id:"indent-selections",label:"Indent: "+e.menu.options[e.menu.selectedIndex].title,events:{onclick:function(){e.menu.show=!0}}})])},exports.default=settings;